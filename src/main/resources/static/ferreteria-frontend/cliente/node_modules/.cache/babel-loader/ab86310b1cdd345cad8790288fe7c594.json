{"ast":null,"code":"var _jsxFileName = \"/home/m4c4c0/ferreteria-api/src/main/resources/static/ferreteria-frontend/cliente/src/Listado_Productos.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from './firebaseConfig';\nimport { CartContext } from './CartContext';\nimport './GridProductos.css';\nfunction Listado_Productos() {\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    agregarProducto\n  } = useContext(CartContext);\n  useEffect(() => {\n    getDocs(collection(db, \"productos\")).then(querySnapshot => {\n      const lista = [];\n      querySnapshot.forEach(doc => {\n        lista.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setProductos(lista);\n      setLoading(false);\n    }).catch(err => {\n      setError(\"Error al consultar los productos en Firebase\");\n      setLoading(false);\n    });\n  }, []);\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      margin: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 23\n    }\n  }, \"Cargando productos...\");\n  if (error) return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      textAlign: \"center\",\n      margin: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, error);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productos-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, productos.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      gridColumn: '1 / -1',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"No hay productos disponibles.\") : productos.map(prod => {\n    var _prod$precio$toLocale, _prod$precio;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"producto-card\",\n      key: prod.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: prod.imagen,\n      alt: prod.nombre,\n      className: \"producto-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, prod.nombre), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, prod.descripcion), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info-precio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"precio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, \"$\", (_prod$precio$toLocale = (_prod$precio = prod.precio) === null || _prod$precio === void 0 ? void 0 : _prod$precio.toLocaleString()) !== null && _prod$precio$toLocale !== void 0 ? _prod$precio$toLocale : \"—\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"stock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, \"Stock: \", prod.stock)), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-comprar\",\n      onClick: () => agregarProducto(prod),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Agregar al carrito\"));\n  }));\n}\nexport default Listado_Productos;","map":{"version":3,"names":["React","useEffect","useState","useContext","collection","getDocs","db","CartContext","Listado_Productos","productos","setProductos","loading","setLoading","error","setError","agregarProducto","then","querySnapshot","lista","forEach","doc","push","id","data","catch","err","createElement","style","textAlign","margin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","color","className","length","gridColumn","map","prod","_prod$precio$toLocale","_prod$precio","key","src","imagen","alt","nombre","descripcion","precio","toLocaleString","stock","onClick"],"sources":["/home/m4c4c0/ferreteria-api/src/main/resources/static/ferreteria-frontend/cliente/src/Listado_Productos.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from './firebaseConfig';\nimport { CartContext } from './CartContext';\nimport './GridProductos.css';\n\nfunction Listado_Productos() {\n  const [productos, setProductos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const { agregarProducto } = useContext(CartContext);\n\n  useEffect(() => {\n    getDocs(collection(db, \"productos\"))\n      .then((querySnapshot) => {\n        const lista = [];\n        querySnapshot.forEach((doc) => {\n          lista.push({ id: doc.id, ...doc.data() });\n        });\n        setProductos(lista);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setError(\"Error al consultar los productos en Firebase\");\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) return <div style={{textAlign: \"center\", margin: 40}}>Cargando productos...</div>;\n  if (error) return <div style={{color: \"red\", textAlign: \"center\", margin: 40}}>{error}</div>;\n\n  return (\n    <div className=\"productos-grid\">\n      {productos.length === 0 ? (\n        <div style={{ gridColumn: '1 / -1', textAlign: 'center' }}>No hay productos disponibles.</div>\n      ) : (\n        productos.map(prod => (\n          <div className=\"producto-card\" key={prod.id}>\n            <img src={prod.imagen} alt={prod.nombre} className=\"producto-img\" />\n            <h3>{prod.nombre}</h3>\n            <p className=\"desc\">{prod.descripcion}</p>\n            <div className=\"info-precio\">\n              <span className=\"precio\">${prod.precio?.toLocaleString() ?? \"—\"}</span>\n              <span className=\"stock\">Stock: {prod.stock}</span>\n            </div>\n            <button className=\"btn-comprar\" onClick={() => agregarProducto(prod)}>\n              Agregar al carrito\n            </button>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\nexport default Listado_Productos;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}